# XP Translator Frontend

Flutter å‰ç«¯åº”ç”¨ï¼Œç”¨äºä¸­æ–‡åˆ°è‹±æ–‡ç¿»è¯‘å’Œå…³é”®è¯æå–ï¼Œæ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ã€ç¿»è¯‘æ–¹å‘é€‰æ‹©å’Œå¤åˆ¶åŠŸèƒ½ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### âœ… æ ¸å¿ƒåŠŸèƒ½
- **æ–‡æœ¬è¾“å…¥**ï¼šæ”¯æŒä¸­è‹±æ–‡å¤šè¡Œæ–‡æœ¬è¾“å…¥
- **ä¸€é”®ç¿»è¯‘**ï¼šè°ƒç”¨åç«¯ AI æ¨¡å‹è¿›è¡Œç¿»è¯‘
- **ç»“æœæ˜¾ç¤º**ï¼šæ¸…æ™°å±•ç¤ºç¿»è¯‘ç»“æœå’Œå…³é”®è¯
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸å’Œè®¾å¤‡
- **ä¸»é¢˜æ”¯æŒ**ï¼šè‡ªåŠ¨é€‚é…ç³»ç»Ÿæ·±è‰²/æµ…è‰²ä¸»é¢˜

### ğŸ¯ æ–°å¢åŠŸèƒ½
- **å¤åˆ¶åŠŸèƒ½**ï¼šç¿»è¯‘ç»“æœå’Œå…³é”®è¯å¯ä¸€é”®å¤åˆ¶
- **ç¿»è¯‘æ–¹å‘é€‰æ‹©**ï¼šä¸­æ–‡â†’è‹±æ–‡ã€è‹±æ–‡â†’ä¸­æ–‡ã€è‡ªåŠ¨æ£€æµ‹ä¸‰ç§æ¨¡å¼
- **æ¨¡å‹é€‰æ‹©**ï¼šæ”¯æŒ DeepSeek å’Œé€šä¹‰åƒé—®è‡ªç”±åˆ‡æ¢
- **è®¾ç½®ç•Œé¢**ï¼šåŠ¨æ€é…ç½®åç«¯åœ°å€å’Œè¿æ¥æµ‹è¯•
- **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„ç½‘ç»œé”™è¯¯å’Œç”¨æˆ·åé¦ˆ
- **æ¸…ç©ºåŠŸèƒ½**ï¼šä¸€é”®æ¸…ç©ºè¾“å…¥å’Œç»“æœ

## ğŸ“± ç•Œé¢é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ XP Translator                    âš™ï¸         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¨¡å‹: [DeepSeek â–¼]                           â”‚
â”‚ æ–¹å‘: [ä¸­æ–‡â†’è‹±æ–‡ â–¼]                          â”‚
â”‚                                               â”‚
â”‚ è¾“å…¥æ–‡æœ¬                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ åœ¨è¿™é‡Œè¾“å…¥è¦ç¿»è¯‘çš„æ–‡æœ¬...                â”‚ â”‚
â”‚ â”‚                                         â”‚ â”‚
â”‚ â”‚                                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                               â”‚
â”‚ [ ç¿»è¯‘ ]        [ æ¸…ç©º ]                      â”‚
â”‚                                               â”‚
â”‚ ç¿»è¯‘ç»“æœ                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Hello World                             â”‚ â”‚
â”‚ â”‚                                         â”‚ â”‚
â”‚ â”‚ ğŸ“‹ å¤åˆ¶ç¿»è¯‘                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                               â”‚
â”‚ å…³é”®è¯                                        â”‚
â”‚ [hello] [world] [greeting]                   â”‚
â”‚ ğŸ“‹ å¤åˆ¶æ‰€æœ‰å…³é”®è¯                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš¡ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£… Flutter

ç¡®ä¿å·²å®‰è£… Flutter SDKï¼š
```bash
flutter --version
```

å¦‚æœæœªå®‰è£…ï¼Œè¯·å‚è€ƒ [Flutter å®˜æ–¹å®‰è£…æŒ‡å—](https://flutter.dev/docs/get-started/install)ã€‚

### 2. å®‰è£…ä¾èµ–

```bash
cd frontend
flutter pub get
```

### 3. é…ç½®åç«¯è¿æ¥

#### é»˜è®¤é…ç½®
é»˜è®¤åç«¯åœ°å€ä¸º `http://127.0.0.1:1216`ã€‚

#### ä¿®æ”¹é…ç½®æ–¹å¼
1. **åº”ç”¨å†…è®¾ç½®**ï¼šç‚¹å‡»å³ä¸Šè§’è®¾ç½®å›¾æ ‡ âš™ï¸ï¼Œä¿®æ”¹åç«¯ API åœ°å€
2. **ç¯å¢ƒå˜é‡**ï¼šè¿è¡Œåº”ç”¨æ—¶æŒ‡å®šåç«¯åœ°å€
3. **æ„å»ºæ—¶é…ç½®**ï¼šæ„å»ºå‘å¸ƒç‰ˆæœ¬æ—¶æŒ‡å®š

#### ç¯å¢ƒå˜é‡é…ç½®
```bash
# è¿è¡Œåº”ç”¨æ—¶æŒ‡å®šåç«¯åœ°å€
flutter run --dart-define=BACKEND_URL=http://your-backend-url:port
```

### 4. è¿è¡Œåº”ç”¨

#### å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
```bash
# è‡ªåŠ¨é€‰æ‹©å¯ç”¨è®¾å¤‡
flutter run

# æŒ‡å®šè®¾å¤‡è¿è¡Œ
flutter run -d macos      # macOS æ¡Œé¢åº”ç”¨
flutter run -d chrome     # Web æµè§ˆå™¨
flutter run -d android    # Android è®¾å¤‡/æ¨¡æ‹Ÿå™¨
flutter run -d ios        # iOS è®¾å¤‡/æ¨¡æ‹Ÿå™¨
```

#### æ¨èä½¿ç”¨ macOS æ¡Œé¢
```bash
flutter run -d macos
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ main.dart              # ä¸»åº”ç”¨å…¥å£ï¼ŒåŒ…å«å®Œæ•´ç•Œé¢é€»è¾‘
â”œâ”€â”€ pubspec.yaml               # Flutter ä¾èµ–é…ç½®
â”œâ”€â”€ README.md                  # æœ¬æ–‡æ¡£
â”œâ”€â”€ test/widget_test.dart      # å‰ç«¯æµ‹è¯•æ–‡ä»¶
â””â”€â”€ (å¹³å°ç‰¹å®šç›®å½•)
    â”œâ”€â”€ android/               # Android å¹³å°é…ç½®
    â”œâ”€â”€ ios/                   # iOS å¹³å°é…ç½®
    â”œâ”€â”€ macos/                 # macOS å¹³å°é…ç½®
    â”œâ”€â”€ linux/                 # Linux å¹³å°é…ç½®
    â”œâ”€â”€ windows/               # Windows å¹³å°é…ç½®
    â””â”€â”€ web/                   # Web å¹³å°é…ç½®
```

## ğŸ”Œ API é›†æˆ

### åç«¯æ¥å£è¦æ±‚

å‰ç«¯æœŸæœ›åç«¯æä¾›ä»¥ä¸‹æ¥å£ï¼š

#### 1. ç¿»è¯‘æ¥å£
```
POST /translate
Content-Type: application/json

è¯·æ±‚ä½“:
{
  "text": "è¦ç¿»è¯‘çš„æ–‡æœ¬",
  "direction": "zh_to_en",  // å¯é€‰ï¼šzh_to_en, en_to_zh, auto
  "provider": "deepseek"    // å¯é€‰ï¼šdeepseek, aliyun
}

å“åº”:
{
  "translation": "ç¿»è¯‘ç»“æœ",
  "keywords": ["å…³é”®è¯1", "å…³é”®è¯2", "å…³é”®è¯3"],
  "direction": "zh_to_en",
  "provider": "deepseek"
}
```

#### 2. å¥åº·æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰
```
GET /health

å“åº”:
{
  "status": "healthy",
  "service": "xp-translator",
  "timestamp": "2024-01-01T00:00:00Z"
}
```

#### 3. API ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
```
GET /

å“åº”:
{
  "message": "XP Translator API",
  "version": "1.0.0",
  "endpoints": ["/translate", "/health", "/docs"]
}
```

### é…ç½®è¯´æ˜

#### 1. åŸºç¡€é…ç½®
åœ¨ `lib/main.dart` ä¸­ä¿®æ”¹ï¼š
```dart
static const String defaultBackendUrl = 'http://127.0.0.1:1216';
```

#### 2. è¿è¡Œæ—¶é…ç½®
é€šè¿‡åº”ç”¨å†…è®¾ç½®ç•Œé¢åŠ¨æ€ä¿®æ”¹ï¼š
1. ç‚¹å‡»å³ä¸Šè§’è®¾ç½®å›¾æ ‡ âš™ï¸
2. è¾“å…¥æ–°çš„åç«¯åœ°å€
3. ç‚¹å‡» "æµ‹è¯•è¿æ¥" éªŒè¯
4. ç‚¹å‡» "ä¿å­˜" åº”ç”¨é…ç½®

#### 3. æ„å»ºæ—¶é…ç½®
```bash
# ç”Ÿäº§ç¯å¢ƒæ„å»º
flutter build apk --release --dart-define=BACKEND_URL=https://api.example.com

# Web æ„å»º
flutter build web --release --dart-define=BACKEND_URL=https://api.example.com

# macOS æ„å»º
flutter build macos --release --dart-define=BACKEND_URL=https://api.example.com
```

## ğŸ¨ ç•Œé¢è®¾è®¡

### ä¸»è¦ç»„ä»¶

#### 1. åº”ç”¨æ  (AppBar)
- åº”ç”¨æ ‡é¢˜ï¼šXP Translator
- è®¾ç½®æŒ‰é’®ï¼šâš™ï¸ å›¾æ ‡ï¼Œæ‰“å¼€è®¾ç½®å¯¹è¯æ¡†

#### 2. æ§åˆ¶é¢æ¿
- **æ¨¡å‹é€‰æ‹©ä¸‹æ‹‰èœå•**ï¼šDeepSeek / é€šä¹‰åƒé—®
- **ç¿»è¯‘æ–¹å‘ä¸‹æ‹‰èœå•**ï¼šä¸­æ–‡â†’è‹±æ–‡ / è‹±æ–‡â†’ä¸­æ–‡ / è‡ªåŠ¨æ£€æµ‹
- **è¾“å…¥æç¤ºæ–‡æœ¬**ï¼šæ ¹æ®é€‰æ‹©çš„ç¿»è¯‘æ–¹å‘åŠ¨æ€å˜åŒ–

#### 3. æ–‡æœ¬è¾“å…¥åŒºåŸŸ
- å¤šè¡Œæ–‡æœ¬è¾“å…¥æ¡†
- æ”¯æŒä¸­è‹±æ–‡è¾“å…¥
- è‡ªåŠ¨è°ƒæ•´é«˜åº¦
- å ä½ç¬¦æ–‡æœ¬æç¤º

#### 4. æ“ä½œæŒ‰é’®
- **ç¿»è¯‘æŒ‰é’®**ï¼šè“è‰²ä¸»æŒ‰é’®ï¼Œè§¦å‘ç¿»è¯‘æ“ä½œ
- **æ¸…ç©ºæŒ‰é’®**ï¼šç°è‰²æ¬¡æŒ‰é’®ï¼Œæ¸…ç©ºè¾“å…¥å’Œç»“æœ

#### 5. ç»“æœæ˜¾ç¤ºåŒºåŸŸ
- **ç¿»è¯‘ç»“æœå¡ç‰‡**ï¼šç™½è‰²èƒŒæ™¯ï¼Œé˜´å½±æ•ˆæœ
- **å¤åˆ¶æŒ‰é’®**ï¼šğŸ“‹ å›¾æ ‡ï¼Œä¸€é”®å¤åˆ¶ç¿»è¯‘ç»“æœ
- **å…³é”®è¯æ ‡ç­¾**ï¼šå½©è‰²åœ†è§’æ ‡ç­¾ï¼Œæ˜¾ç¤ºæå–çš„å…³é”®è¯
- **å¤åˆ¶æ‰€æœ‰å…³é”®è¯æŒ‰é’®**ï¼šä¸€é”®å¤åˆ¶æ‰€æœ‰å…³é”®è¯

#### 6. è®¾ç½®å¯¹è¯æ¡†
- åç«¯åœ°å€è¾“å…¥æ¡†
- è¿æ¥æµ‹è¯•æŒ‰é’®
- ä¿å­˜å’Œå–æ¶ˆæŒ‰é’®

### çŠ¶æ€ç®¡ç†

#### åº”ç”¨çŠ¶æ€
```dart
class _TranslationPageState extends State<TranslationPage> {
  String _inputText = '';                    // è¾“å…¥æ–‡æœ¬
  String _translation = '';                  // ç¿»è¯‘ç»“æœ
  List<String> _keywords = [];               // å…³é”®è¯åˆ—è¡¨
  String _selectedModel = 'DeepSeek';        // é€‰æ‹©çš„æ¨¡å‹
  String _selectedDirection = 'ä¸­æ–‡â†’è‹±æ–‡';    // ç¿»è¯‘æ–¹å‘
  String _backendUrl = defaultBackendUrl;    // åç«¯åœ°å€
  bool _isLoading = false;                   // åŠ è½½çŠ¶æ€
  // ...
}
```

#### çŠ¶æ€æ›´æ–°
- **setState()**ï¼šæ›´æ–°ç•Œé¢çŠ¶æ€
- **FutureBuilder**ï¼šå¤„ç†å¼‚æ­¥æ“ä½œ
- **try-catch**ï¼šé”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ

### ä¸»é¢˜å’Œæ ·å¼

#### é¢œè‰²æ–¹æ¡ˆ
```dart
ColorScheme _colorScheme(BuildContext context) {
  return Theme.of(context).colorScheme;
}

// ä¸»è¦é¢œè‰²
primaryColor = Colors.blue.shade600;
secondaryColor = Colors.grey.shade300;
backgroundColor = Theme.of(context).scaffoldBackgroundColor;
textColor = Theme.of(context).textTheme.bodyLarge?.color;
```

#### å“åº”å¼è®¾è®¡
```dart
LayoutBuilder(
  builder: (context, constraints) {
    if (constraints.maxWidth > 600) {
      // æ¡Œé¢/å¹³æ¿å¸ƒå±€
      return _buildDesktopLayout(context);
    } else {
      // æ‰‹æœºå¸ƒå±€
      return _buildMobileLayout(context);
    }
  },
)
```

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

#### 1. æ·»åŠ æ–°çš„ API è°ƒç”¨
```dart
Future<Map<String, dynamic>> _callCustomEndpoint(String text) async {
  final response = await http.post(
    Uri.parse('$_backendUrl/custom'),
    headers: {'Content-Type': 'application/json'},
    body: jsonEncode({'text': text}),
  );
  
  if (response.statusCode == 200) {
    return jsonDecode(response.body);
  } else {
    throw Exception('API è°ƒç”¨å¤±è´¥: ${response.statusCode}');
  }
}
```

#### 2. æ·»åŠ æ–°çš„ç•Œé¢ç»„ä»¶
```dart
Widget _buildNewFeature(BuildContext context) {
  return Card(
    child: Padding(
      padding: const EdgeInsets.all(16.0),
      child: Column(
        children: [
          Text('æ–°åŠŸèƒ½', style: Theme.of(context).textTheme.titleLarge),
          // æ›´å¤šç»„ä»¶...
        ],
      ),
    ),
  );
}
```

#### 3. æ·»åŠ æ–°çš„è®¾ç½®é€‰é¡¹
```dart
// åœ¨è®¾ç½®å¯¹è¯æ¡†ä¸­æ·»åŠ 
TextFormField(
  decoration: InputDecoration(
    labelText: 'æ–°è®¾ç½®é€‰é¡¹',
    hintText: 'è¯·è¾“å…¥...',
  ),
  onChanged: (value) {
    // æ›´æ–°çŠ¶æ€
  },
),
```

### ä»£ç ç»“æ„

#### ä¸»åº”ç”¨ç»“æ„
```dart
void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'XP Translator',
      theme: ThemeData.light(),
      darkTheme: ThemeData.dark(),
      themeMode: ThemeMode.system,
      home: const TranslationPage(),
    );
  }
}
```

#### ç¿»è¯‘é¡µé¢ç»“æ„
```dart
class TranslationPage extends StatefulWidget {
  const TranslationPage({super.key});

  @override
  State<TranslationPage> createState() => _TranslationPageState();
}

class _TranslationPageState extends State<TranslationPage> {
  // çŠ¶æ€å˜é‡
  // æ„å»ºæ–¹æ³•
  // äº‹ä»¶å¤„ç†
  // è¾…åŠ©æ–¹æ³•
}
```

### è°ƒè¯•æŠ€å·§

#### 1. å¯ç”¨è°ƒè¯•æ¨¡å¼
```dart
// åœ¨å¼€å‘æ—¶æ·»åŠ è°ƒè¯•è¾“å‡º
print('å½“å‰çŠ¶æ€: inputText=$_inputText, isLoading=$_isLoading');

// ä½¿ç”¨ Flutter DevTools
// flutter pub global activate devtools
// flutter pub global run devtools
```

#### 2. ç½‘ç»œè¯·æ±‚è°ƒè¯•
```dart
// æŸ¥çœ‹è¯·æ±‚å’Œå“åº”
void _debugNetworkRequest(Uri url, Map<String, dynamic> body) {
  if (kDebugMode) {
    print('è¯·æ±‚ URL: $url');
    print('è¯·æ±‚ä½“: $body');
  }
}

// åœ¨ Chrome DevTools ä¸­æŸ¥çœ‹ Network æ ‡ç­¾
```

#### 3. çŠ¶æ€ç›‘æ§
```dart
// ä½¿ç”¨ Provider æˆ– Riverpod è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼ˆæœªæ¥æ‰©å±•ï¼‰
// å½“å‰ä½¿ç”¨ç®€å•çš„ setState ç®¡ç†
```

## ğŸ“¦ æ„å»ºå‘å¸ƒ

### Android

#### APK æ„å»º
```bash
flutter build apk --release
# è¾“å‡º: build/app/outputs/flutter-apk/app-release.apk
```

#### App Bundle æ„å»º
```bash
flutter build appbundle --release
# è¾“å‡º: build/app/outputs/bundle/release/app-release.aab
```

#### ç­¾åé…ç½®
åœ¨ `android/app/build.gradle` ä¸­é…ç½®ç­¾åä¿¡æ¯ã€‚

### iOS

#### æ„å»º IPA
```bash
flutter build ios --release
# ç„¶ååœ¨ Xcode ä¸­å¯¼å‡º IPA
```

#### é…ç½®è¦æ±‚
- Apple Developer è´¦æˆ·
- æœ‰æ•ˆçš„è¯ä¹¦å’Œé…ç½®æ–‡ä»¶
- Xcode 13.0+

### Web

#### æ„å»º Web åº”ç”¨
```bash
flutter build web --release
# è¾“å‡º: build/web/
```

#### éƒ¨ç½²åˆ°æœåŠ¡å™¨
```bash
# ä½¿ç”¨ nginx æˆ– Apache éƒ¨ç½²
# æˆ–éƒ¨ç½²åˆ° Firebase Hostingã€Netlifyã€Vercel ç­‰
```

### macOS

#### æ„å»º macOS åº”ç”¨
```bash
flutter build macos --release
# è¾“å‡º: build/macos/Build/Products/Release/XP Translator.app
```

#### æ‰“åŒ… DMG
```bash
# ä½¿ç”¨ create-dmg å·¥å…·
create-dmg 'XP Translator.app'
```

### ä¸€é”®æ„å»ºè„šæœ¬
```bash
#!/bin/bash
# build_all.sh

echo "æ„å»º Android APK..."
flutter build apk --release

echo "æ„å»º Web åº”ç”¨..."
flutter build web --release

echo "æ„å»º macOS åº”ç”¨..."
flutter build macos --release

echo "æ‰€æœ‰æ„å»ºå®Œæˆï¼"
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. åç«¯è¿æ¥å¤±è´¥
```bash
# æµ‹è¯•åç«¯è¿æ¥
curl http://127.0.0.1:1216/health

# æ£€æŸ¥ CORS é…ç½®
# åç«¯éœ€è¦å…è®¸å‰ç«¯åŸŸå

# æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
# macOS: ç³»ç»Ÿåå¥½è®¾ç½® -> å®‰å…¨æ€§ä¸éšç§ -> é˜²ç«å¢™
```

#### 2. Flutter ä¾èµ–é—®é¢˜
```bash
# æ¸…ç†ç¼“å­˜
flutter clean
flutter pub cache repair

# é‡æ–°å®‰è£…ä¾èµ–
flutter pub get

# å‡çº§ Flutter
flutter upgrade
```

#### 3. æ„å»ºé”™è¯¯
```bash
# æ£€æŸ¥ Flutter ç‰ˆæœ¬
flutter doctor -v

# æ£€æŸ¥ä¾èµ–å†²çª
flutter pub deps

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
flutter build apk --release --verbose
```

#### 4. macOS ç‰¹å®šé—®é¢˜
```bash
# Xcode å‘½ä»¤è¡Œå·¥å…·
xcode-select --install

# é‡ç½® Xcode è·¯å¾„
sudo xcode-select --reset

# æˆäºˆç½‘ç»œæƒé™
# ç³»ç»Ÿåå¥½è®¾ç½® -> å®‰å…¨æ€§ä¸éšç§ -> é˜²ç«å¢™
```

### ç½‘ç»œé—®é¢˜è§£å†³æ–¹æ¡ˆ

#### æ–¹æ¡ˆ1ï¼šä½¿ç”¨ 127.0.0.1 ä»£æ›¿ localhost
```dart
// ä¿®æ”¹åç«¯åœ°å€
static const String defaultBackendUrl = 'http://127.0.0.1:1216';
```

#### æ–¹æ¡ˆ2ï¼šæ£€æŸ¥ç«¯å£å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ
lsof -i :1216

# å¦‚æœç«¯å£è¢«å ç”¨ï¼Œæ›´æ¢ç«¯å£
# åç«¯: --port 1217
# å‰ç«¯: http://127.0.0.1:1217
```

#### æ–¹æ¡ˆ3ï¼šæµ‹è¯•ç½‘ç»œè¿æ¥
```bash
# æµ‹è¯•åç«¯æ˜¯å¦è¿è¡Œ
curl http://127.0.0.1:1216/health
curl http://localhost:1216/health

# æµ‹è¯•å‰ç«¯ç½‘ç»œè®¿é—®
# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:8080
```

### è°ƒè¯•ç½‘ç»œè¯·æ±‚

#### 1. ä½¿ç”¨ Charles Proxy æˆ– Fiddler
- ç›‘æ§ HTTP/HTTPS è¯·æ±‚
- æŸ¥çœ‹è¯·æ±‚å’Œå“åº”è¯¦æƒ…
- æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿå’Œé”™è¯¯

#### 2. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- æ‰“å¼€ Chrome DevTools (F12)
- æŸ¥çœ‹ Network æ ‡ç­¾
- æ£€æŸ¥è¯·æ±‚å¤´ã€å“åº”ä½“å’ŒçŠ¶æ€ç 

#### 3. æ·»åŠ æ—¥å¿—è®°å½•
```dart
void _logNetworkRequest(String url, int statusCode, String responseBody) {
  if (kDebugMode) {
    print('=== ç½‘ç»œè¯·æ±‚æ—¥å¿— ===');
    print('URL: $url');
    print('çŠ¶æ€ç : $statusCode');
    print('å“åº”ä½“: ${responseBody.substring(0, 100)}...');
    print('===================');
  }
}
```

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•
```dart
// test/unit_test.dart
void main() {
  test('å­—ç¬¦ä¸²å¤„ç†æµ‹è¯•', () {
    expect(trimText('  hello  '), 'hello');
  });
  
  test('URL éªŒè¯æµ‹è¯•', () {
    expect(isValidUrl('http://example.com'), true);
    expect(isValidUrl('invalid-url'), false);
  });
}
```

### éƒ¨ä»¶æµ‹è¯•
```dart
// test/widget_test.dart
void main() {
  testWidgets('ç¿»è¯‘æŒ‰é’®æµ‹è¯•', (WidgetTester tester) async {
    await tester.pumpWidget(const MyApp());
    
    // æŸ¥æ‰¾ç¿»è¯‘æŒ‰é’®
    final translateButton = find.text('ç¿»è¯‘');
    expect(translateButton, findsOneWidget);
    
    // ç‚¹å‡»æŒ‰é’®
    await tester.tap(translateButton);
    await tester.pump();
    
    // éªŒè¯çŠ¶æ€å˜åŒ–
    // ...
  });
}
```

### é›†æˆæµ‹è¯•
```dart
// test_driver/app_test.dart
void main() {
  test('å®Œæ•´ç¿»è¯‘æµç¨‹æµ‹è¯•', () async {
    // å¯åŠ¨åº”ç”¨
    final FlutterDriver driver = await FlutterDriver.connect();
    
    // è¾“å…¥æ–‡æœ¬
    await driver.tap(find.byValueKey('input_field'));
    await driver.enterText('ä½ å¥½');
    
    // ç‚¹å‡»ç¿»è¯‘æŒ‰é’®
    await driver.tap(find.byValueKey('translate_button'));
    
    // ç­‰å¾…ç»“æœ
    await driver.waitFor(find.text('Hello'));
    
    // å…³é—­é©±åŠ¨
    driver.close();
  });
}
```

## ğŸ“Š é¡¹ç›®å®ŒæˆçŠ¶æ€

### âœ… åŠŸèƒ½éªŒè¯
å‰ç«¯å·²é€šè¿‡æ‰€æœ‰åŠŸèƒ½éªŒè¯ï¼š
1. **æ–‡æœ¬è¾“å…¥**ï¼šæ”¯æŒä¸­è‹±æ–‡å¤šè¡Œæ–‡æœ¬è¾“å…¥
2. **ç¿»è¯‘æŒ‰é’®**ï¼šæ­£å¸¸è°ƒç”¨åç«¯ API è¿›è¡Œç¿»è¯‘
3. **ç»“æœæ˜¾ç¤º**ï¼šæ¸…æ™°å±•ç¤ºç¿»è¯‘ç»“æœå’Œå…³é”®è¯
4. **å¤åˆ¶åŠŸèƒ½**ï¼šç¿»è¯‘ç»“æœå’Œå…³é”®è¯å¯ä¸€é”®å¤åˆ¶
5. **ç¿»è¯‘æ–¹å‘é€‰æ‹©**ï¼šä¸­æ–‡â†’è‹±æ–‡ã€è‹±æ–‡â†’ä¸­æ–‡ã€è‡ªåŠ¨æ£€æµ‹ä¸‰ç§æ¨¡å¼
6. **æ¨¡å‹é€‰æ‹©**ï¼šæ”¯æŒ DeepSeek å’Œé€šä¹‰åƒé—®è‡ªç”±åˆ‡æ¢
7. **è®¾ç½®ç•Œé¢**ï¼šåŠ¨æ€é…ç½®åç«¯åœ°å€å’Œè¿æ¥æµ‹è¯•
8. **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„ç½‘ç»œé”™è¯¯å’Œç”¨æˆ·åé¦ˆ

### âœ… ä¸åç«¯é›†æˆ
- **API å…¼å®¹æ€§**ï¼šå®Œå…¨å…¼å®¹åç«¯ FastAPI æ¥å£
- **é”™è¯¯å¤„ç†**ï¼šä¼˜é›…å¤„ç†ç½‘ç»œé”™è¯¯å’Œ API é”™è¯¯
- **çŠ¶æ€ç®¡ç†**ï¼šå®Œå–„çš„åŠ è½½çŠ¶æ€å’Œç”¨æˆ·åé¦ˆ
- **é…ç½®ç®¡ç†**ï¼šæ”¯æŒåŠ¨æ€ä¿®æ”¹åç«¯åœ°å€

### ğŸ¯ å¿«é€ŸéªŒè¯
```bash
# 1. ç¡®ä¿åç«¯æœåŠ¡è¿è¡Œ
# åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­è¿è¡Œï¼š
cd backend
uv run uvicorn src.xp_translator.api:app --reload --host 127.0.0.1 --port 1216

# 2. å¯åŠ¨å‰ç«¯åº”ç”¨
cd frontend
flutter run -d macos

# 3. æµ‹è¯•åŠŸèƒ½
# - è¾“å…¥æ–‡æœ¬å¹¶ç‚¹å‡»ç¿»è¯‘æŒ‰é’®
# - æµ‹è¯•ä¸åŒç¿»è¯‘æ–¹å‘
# - æµ‹è¯•ä¸åŒ AI æ¨¡å‹
# - æµ‹è¯•å¤åˆ¶åŠŸèƒ½
# - æµ‹è¯•è®¾ç½®ç•Œé¢
```

### âœ… é¢„æœŸç»“æœ
- å‰ç«¯ç•Œé¢æ­£å¸¸æ˜¾ç¤º
- ç¿»è¯‘åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- æ‰€æœ‰äº¤äº’åŠŸèƒ½æ­£å¸¸
- é”™è¯¯å¤„ç†æœºåˆ¶æœ‰æ•ˆ

## ğŸ”„ æŒç»­é›†æˆ

### GitHub Actions é…ç½®
```yaml
name: Frontend CI/CD

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
